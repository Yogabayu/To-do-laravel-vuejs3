import{m as q}from"./VAvatar-c949dc11.js";import{r as K,o,c as f,a as e,w as l,G as g,E as W,e as u,V as b,i as v,h as m,t as h,b as c,f as _,F as x,d as F}from"./main-a0f635ce.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{V as X}from"./VOverlay-98a581b7.js";import{V as k,c as Q,b as Y,a as J,e as L}from"./VCard-6c0ec275.js";import{a as i,V as p}from"./VRow-dcc804f1.js";import{V as Z,a as I}from"./VTabs-8fafdebf.js";import{V as $,a as E}from"./VWindowItem-5ed59ad5.js";import{V as T}from"./VSpacer-494c86f5.js";import{V as w}from"./VTextField-62b0c032.js";import{V as D,a as U}from"./VChip-c2c4b442.js";import{V as R}from"./VContainer-3ba9b957.js";import{V as S}from"./VDialog-59cdd517.js";import{V as P}from"./VForm-12a536ad.js";import{V as z}from"./VTextarea-264496ab.js";import{V as j}from"./VFileInput-209624d0.js";import{d as M,b as G,c as N}from"./VMenu-10fdde58.js";import{V as A}from"./VCheckbox-24eb45f8.js";import{V as O}from"./VSelect-9ae2ff64.js";import"./VImg-ce066be5.js";import"./index-5b9673f5.js";/* empty css              */import"./VInput-872f54a1.js";import"./dialog-transition-762e9cc7.js";const ee={data(){return{tab:null,dataFilter:{text:"",date:null},isTable:!0,overlay:!1,rulesTextArea:[r=>r.length<=2048||"Max 2048 characters"],rules:{required:r=>!!r||"Required"},items:[],originalItems:[],headers:[{text:"Nama Draft",value:"title",sortable:!0},{text:"Status",value:"status",sortable:!0},{text:"Operation",value:"operation"}],userData:JSON.parse(localStorage.getItem("userData")),searchValue:"",insert:!1,edit:!1,dataForm:{id:null,title:null,file:null,desc:"",status:"pending",positions:[]},positions:[],selectedPositions:[],displaySelectedPositions:[]}},watch:{tab(r){r==="2"?this.filterDataStatus("pending"):r==="3"?this.filterDataStatus("approved"):r==="4"?this.filterDataStatus("rejected"):this.items=[...this.originalItems]},searchValue(r){this.isTable||(r!==""?this.items=this.originalItems.filter(s=>s.title.includes(r)):this.items=[...this.originalItems])},positions:{handler(r){const s=r.filter(y=>y.checked);s.forEach(({title:y,value:C})=>{this.selectedPositions.some(a=>a.value===C)||this.selectedPositions.push({title:y,value:C,timestamp:Date.now()})}),this.selectedPositions=this.selectedPositions.filter(y=>s.some(C=>C.value===y.value)),this.selectedPositions.sort((y,C)=>y.timestamp-C.timestamp)},deep:!0}},methods:{async changeDraftStatus(r,s=null){try{this.overlay=!0;const y=await q.get(`/user/changestatusdraft/${r}`);y.status===200?(this.getAllDraft(),s=="pending"?this.filterDataStatus("pending"):s=="approved"?this.filterDataStatus("approved"):s=="rejected"&&this.filterDataStatus("rejected"),this.tab=0,this.overlay=!1,this.$showToast("success","Success",y.data.message)):(this.overlay=!1,this.$showToast("error","Sorry",y.data.message))}catch(y){this.overlay=!1,this.$showToast("error","Sorry",y.response.data.message)}},filterData(){console.log(this.dataFilter)},toLink(r){this.$router.push(`/u-draft/${r}`)},async updateData(){try{this.overlay=!0;const r=new FormData;r.append("title",this.dataForm.title),r.append("desc",this.dataForm.desc),r.append("status",this.dataForm.status),this.dataForm.file!==null&&r.append("file",this.dataForm.file),this.dataForm.positions=this.selectedPositions.map(C=>C.value),this.dataForm.positions.forEach(C=>{r.append("positions[]",C)}),r.append("_method","PUT");const s={onUploadProgress:C=>{try{this.uploadProgress=Math.round(C.loaded*100/C.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},y=await q.post(`/user/draft/${this.dataForm.id}`,r,s);y.status===200?(this.closeModal(2),this.getAllDraft(),this.uploadProgress=null,this.overlay=!1,this.$showToast("success","Success",y.data.message)):(this.uploadProgress=null,this.$showToast("error","Sorry",y.data.message))}catch(r){this.uploadProgress=null,this.closeModal(2),this.overlay=!1,this.$showToast("error","Sorry",r.response.data.message)}},formatDate(r){return new Date(r).toLocaleDateString("id-ID")},async insertData(){try{this.overlay=!0;const r=new FormData;r.append("title",this.dataForm.title),r.append("desc",this.dataForm.desc),r.append("file",this.dataForm.file),this.dataForm.positions=this.selectedPositions.map(C=>C.value),this.dataForm.positions.forEach(C=>{r.append("positions[]",C)}),r.append("_method","POST");const s={onUploadProgress:C=>{try{this.uploadProgress=Math.round(C.loaded*100/C.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},y=await q.post("/user/draft",r,s);y.status===200?(this.closeModal(1),this.getAllDraft(),this.uploadProgress=null,this.overlay=!1,this.$showToast("success","Success",y.data.message)):(this.uploadProgress=null,this.overlay=!0,this.$showToast("error","Sorry",y.data.message))}catch(r){this.uploadProgress=null,this.closeModal(1),this.overlay=!1,this.$showToast("error","Sorry",r.response.data.message)}},async deleteData(r){try{if(!window.confirm("Semua Data yang terkait akan ikut terhapus. Apakah Anda yakin ingin menghapus data?"))return;const y=await q.delete(`/user/draft/${r.id}`);y.status===200?(this.getAllDraft(),this.$showToast("success","Berhasil",y.data.message)):this.$showToast("error","Sorry",y.data.message)}catch(s){this.$showToast("error","Sorry",s.response.data.message)}},handleFileChange(r){const s=r.target.files[0];s&&["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"].includes(s.type)?this.dataForm.file=s:(this.$showToast("error","Error","Hanya file PDF / DOC / DOCX yang diizinkan."),r.target.value=null)},filterDataStatus(r){this.items=this.originalItems.filter(s=>s.status===r)},async getAllDraft(){try{const r=await q.get("/user/draft");r.status===200?(this.items=r.data.data,this.originalItems=[...this.items]):this.$showToast("error","Sorry",r.data.data.message)}catch(r){this.$showToast("error","Sorry",r.data.data.message)}},async getPositions(){try{const r=await q.get("/position");r.status===200?this.positions=r.data.data.map(s=>({value:s.id,title:s.name,checked:!1})):this.$showToast("error","Sorry","error get data position")}catch{this.$showToast("error","Sorry","error get data position")}},async openModal(r,s=null){r===1?(await this.getPositions(),this.insert=!0):r===2&&s&&(await this.getPositions(),this.dataForm.id=s.id,this.dataForm.title=s.title,this.dataForm.desc=s.desc,this.displaySelectedPositions=s.positions.map(y=>y.name),this.edit=!0)},closeModal(r){r===1?(this.resetForm(),this.insert=!1):r===2&&(this.resetForm(),this.edit=!1)},resetForm(){this.dataForm={id:null,title:null,file:null,desc:null,status:"",positions:[]},this.selectedPositions=[]}},mounted(){this.getAllDraft()}},le=c("br",null,null,-1),te=c("span",{class:"font-weight-bold text-lg"},"Loading....",-1),ae=c("p",null,"Data Kosong",-1),se=c("p",null,"loading data .....",-1),oe={class:"operation-wrapper"},ue={key:0},ie={key:1},ne={class:"text-overline mb-1"},re={class:"text-h6 mb-1"},de={class:"text-caption"},ce={class:"text-caption"},me=c("h5",null,"Urutan Saat ini",-1),pe=c("h5",null,"Urutan Baru :",-1),fe=c("p",null,"Data Kosong",-1),he=c("p",null,"loading data .....",-1),_e={class:"operation-wrapper"},be={key:0},ve={key:1},ye={class:"text-overline mb-1"},ke={class:"text-h6 mb-1"},Ve={class:"text-caption"},ge={class:"text-caption"},xe=c("h5",null,"Urutan Saat ini",-1),De=c("h5",null,"Urutan Baru :",-1),Ce=c("p",null,"Data Kosong",-1),we=c("p",null,"loading data .....",-1),Fe={class:"operation-wrapper"},Te={key:0},Ue={key:1},Se={class:"text-overline mb-1"},Pe={class:"text-h6 mb-1"},ze={class:"text-caption"},je={class:"text-caption"},Me=c("h5",null,"Urutan Saat ini",-1),Ae=c("h5",null,"Urutan Baru :",-1),qe=c("p",null,"Data Kosong",-1),Be=c("p",null,"loading data .....",-1),Je={class:"operation-wrapper"},Le={key:0},Ie={key:1},Ee={class:"text-overline mb-1"},Re={class:"text-h6 mb-1"},Ge={class:"text-caption"},Ne={class:"text-caption"},Oe=c("h5",null,"Urutan Saat ini",-1),Ke=c("h5",null,"Urutan Baru :",-1);function We(r,s,y,C,a,d){const B=K("EasyDataTable");return o(),f(g,null,[e(X,{absolute:!0,modelValue:a.overlay,"onUpdate:modelValue":s[0]||(s[0]=t=>a.overlay=t),contained:"",persistent:"",class:"align-center justify-center"},{default:l(()=>[e(i,null,{default:l(()=>[e(W,{color:"primary",size:"32",indeterminate:""}),le,te]),_:1})]),_:1},8,["modelValue"]),e(k,null,{default:l(()=>[e(Q,{class:"text-2xl font-weight-bold d-flex justify-left"},{default:l(()=>[u(" Document Approval ")]),_:1}),e(Z,{modelValue:a.tab,"onUpdate:modelValue":s[1]||(s[1]=t=>a.tab=t),class:"v-tabs-pill","bg-color":"secondary"},{default:l(()=>[e(I,{value:"1"},{default:l(()=>[u("Semua")]),_:1}),e(I,{value:"2"},{default:l(()=>[u("Pending")]),_:1}),e(I,{value:"3"},{default:l(()=>[u("Approved")]),_:1}),e(I,{value:"4"},{default:l(()=>[u("Rejected")]),_:1})]),_:1},8,["modelValue"]),e(Y,null,{default:l(()=>[e($,{modelValue:a.tab,"onUpdate:modelValue":s[54]||(s[54]=t=>a.tab=t)},{default:l(()=>[e(E,{value:"1"},{default:l(()=>[e(p,{class:"d-flex justify-end pa-3"},{default:l(()=>[e(b,{color:"primary",size:"small",class:"my-3 mx-3",onClick:s[2]||(s[2]=t=>d.openModal(1))},{default:l(()=>[u(" Tambah Data ")]),_:1}),e(T),e(w,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:a.searchValue,"onUpdate:modelValue":s[3]||(s[3]=t=>a.searchValue=t)},null,8,["modelValue"]),e(T),e(b,{color:a.isTable==!0?"secondary":"on-primary",onClick:s[4]||(s[4]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-table",color:"on-primary"}),u(" Table ")]),_:1},8,["color"]),e(b,{color:a.isTable==!1?"secondary":"on-primary",onClick:s[5]||(s[5]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-box",color:"on-primary"}),u(" Grid ")]),_:1},8,["color"])]),_:1}),a.isTable?(o(),m(B,{key:0,class:"mt-2","show-index":"",headers:a.headers,items:a.items,"search-value":a.searchValue},{"empty-message":l(()=>[ae]),loading:l(()=>[se]),"item-status":l(t=>[e(D,{variant:"outlined",color:"primary",onClick:n=>d.changeDraftStatus(t.id)},{default:l(()=>[u(h(t.status),1)]),_:2},1032,["onClick"])]),"item-operation":l(t=>[c("div",oe,[c("button",null,[e(v,{size:"20",icon:"bx-file-find",color:"blue",onClick:n=>d.toLink(t.id)},null,8,["onClick"])]),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",ue,[e(v,{size:"20",icon:"bx-edit",color:"blue",onClick:n=>d.openModal(2,t)},null,8,["onClick"])])):_("",!0),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",ie,[e(v,{size:"20",icon:"bx-trash",color:"red",onClick:n=>d.deleteData(t)},null,8,["onClick"])])):_("",!0)])]),_:1},8,["headers","items","search-value"])):_("",!0),a.isTable==!1?(o(),m(R,{key:1},{default:l(()=>[e(p,{"no-gutters":""},{default:l(()=>[(o(!0),f(g,null,x(a.items,(t,n)=>(o(),m(i,{class:"ma-2",key:n,cols:"12",sm:"3"},{default:l(()=>[e(k,{class:"mx-auto","max-width":"344",height:"230px"},{default:l(()=>[e(J,null,{default:l(()=>[c("div",null,[c("div",ne,[t.status=="approved"?(o(),m(D,{key:0,color:"success",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="pending"?(o(),m(D,{key:1,color:"warning",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="rejected"?(o(),m(D,{key:2,color:"error",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0)]),c("div",re,h(t.title),1),c("div",de,h(t.desc.substring(0,100)+"..."),1),c("div",ce,h(d.formatDate(t.created_at)),1)])]),_:2},1024),e(L,null,{default:l(()=>[e(b,{size:"small",class:"mt-3",onClick:V=>d.toLink(t.id)},{default:l(()=>[e(v,{size:"20",icon:"mdi-open-in-new"})]),_:2},1032,["onClick"]),a.userData.uuid==t.user_uuid?(o(),m(b,{key:0,size:"small",class:"mt-3",onClick:V=>d.openModal(2,t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-pen"})]),_:2},1032,["onClick"])):_("",!0),a.userData.uuid==t.user_uuid?(o(),m(b,{key:1,size:"small",class:"mt-3",onClick:V=>d.deleteData(t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-trash"})]),_:2},1032,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):_("",!0),e(S,{modelValue:a.insert,"onUpdate:modelValue":s[9]||(s[9]=t=>a.insert=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Tambah Data ")]),text:l(()=>[e(P,{onSubmit:F(d.insertData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[6]||(s[6]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[7]||(s[7]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),m(i,{key:n,cols:"6"},{default:l(()=>[e(G,null,{default:l(()=>[e(N,{textContent:h(n+1+" - "+t.title)},null,8,["textContent"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Simpan")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[8]||(s[8]=t=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(S,{modelValue:a.edit,"onUpdate:modelValue":s[14]||(s[14]=t=>a.edit=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Update Data ")]),text:l(()=>[e(P,{onSubmit:F(d.updateData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[10]||(s[10]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[11]||(s[11]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(O,{label:"Status",items:[{value:"pending",title:"Pending"},{value:"approved",title:"Approved"},{value:"rejected",title:"Rejected"}],modelValue:a.dataForm.status,"onUpdate:modelValue":s[12]||(s[12]=t=>a.dataForm.status=t),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[me,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.displaySelectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[pe,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t.title),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Update")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[13]||(s[13]=t=>d.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(E,{value:"2"},{default:l(()=>[e(p,{class:"d-flex justify-end pa-3"},{default:l(()=>[e(b,{color:"primary",size:"small",class:"my-3 mx-3",onClick:s[15]||(s[15]=t=>d.openModal(1))},{default:l(()=>[u(" Tambah Data ")]),_:1}),e(T),e(w,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:a.searchValue,"onUpdate:modelValue":s[16]||(s[16]=t=>a.searchValue=t)},null,8,["modelValue"]),e(T),e(b,{color:a.isTable==!0?"secondary":"on-primary",onClick:s[17]||(s[17]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-table",color:"on-primary"}),u(" Table ")]),_:1},8,["color"]),e(b,{color:a.isTable==!1?"secondary":"on-primary",onClick:s[18]||(s[18]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-box",color:"on-primary"}),u(" Grid ")]),_:1},8,["color"])]),_:1}),a.isTable?(o(),m(B,{key:0,class:"mt-2","show-index":"",headers:a.headers,items:a.items,"search-value":a.searchValue},{"empty-message":l(()=>[fe]),loading:l(()=>[he]),"item-status":l(t=>[e(D,{variant:"outlined",color:"primary",onClick:n=>d.changeDraftStatus(t.id,"pending")},{default:l(()=>[u(h(t.status),1)]),_:2},1032,["onClick"])]),"item-operation":l(t=>[c("div",_e,[c("button",null,[e(v,{size:"20",icon:"bx-file-find",color:"blue",onClick:n=>d.toLink(t.id)},null,8,["onClick"])]),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",be,[e(v,{size:"20",icon:"bx-edit",color:"blue",onClick:n=>d.openModal(2,t)},null,8,["onClick"])])):_("",!0),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",ve,[e(v,{size:"20",icon:"bx-trash",color:"red",onClick:n=>d.deleteData(t)},null,8,["onClick"])])):_("",!0)])]),_:1},8,["headers","items","search-value"])):_("",!0),a.isTable==!1?(o(),m(R,{key:1},{default:l(()=>[e(p,{"no-gutters":""},{default:l(()=>[(o(!0),f(g,null,x(a.items,(t,n)=>(o(),m(i,{class:"ma-2",key:n,cols:"12",sm:"3"},{default:l(()=>[e(k,{class:"mx-auto","max-width":"344",height:"230px"},{default:l(()=>[e(J,null,{default:l(()=>[c("div",null,[c("div",ye,[t.status=="approved"?(o(),m(D,{key:0,color:"success",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="pending"?(o(),m(D,{key:1,color:"warning",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="rejected"?(o(),m(D,{key:2,color:"error",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0)]),c("div",ke,h(t.title),1),c("div",Ve,h(t.desc.substring(0,100)+"..."),1),c("div",ge,h(d.formatDate(t.created_at)),1)])]),_:2},1024),e(L,null,{default:l(()=>[e(b,{size:"small",class:"mt-3",onClick:V=>d.toLink(t.id)},{default:l(()=>[e(v,{size:"20",icon:"mdi-open-in-new"})]),_:2},1032,["onClick"]),a.userData.uuid==t.user_uuid?(o(),m(b,{key:0,size:"small",class:"mt-3",onClick:V=>d.openModal(2,t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-pen"})]),_:2},1032,["onClick"])):_("",!0),a.userData.uuid==t.user_uuid?(o(),m(b,{key:1,size:"small",class:"mt-3",onClick:V=>d.deleteData(t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-trash"})]),_:2},1032,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):_("",!0),e(S,{modelValue:a.insert,"onUpdate:modelValue":s[22]||(s[22]=t=>a.insert=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Tambah Data ")]),text:l(()=>[e(P,{onSubmit:F(d.insertData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[19]||(s[19]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[20]||(s[20]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),m(i,{key:n,cols:"6"},{default:l(()=>[e(G,null,{default:l(()=>[e(N,{textContent:h(n+1+" - "+t.title)},null,8,["textContent"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Simpan")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[21]||(s[21]=t=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(S,{modelValue:a.edit,"onUpdate:modelValue":s[27]||(s[27]=t=>a.edit=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Update Data ")]),text:l(()=>[e(P,{onSubmit:F(d.updateData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[23]||(s[23]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[24]||(s[24]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(O,{label:"Status",items:[{value:"pending",title:"Pending"},{value:"approved",title:"Approved"},{value:"rejected",title:"Rejected"}],modelValue:a.dataForm.status,"onUpdate:modelValue":s[25]||(s[25]=t=>a.dataForm.status=t),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[xe,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.displaySelectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[De,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t.title),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Update")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[26]||(s[26]=t=>d.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(E,{value:"3"},{default:l(()=>[e(p,{class:"d-flex justify-end pa-3"},{default:l(()=>[e(b,{color:"primary",size:"small",class:"my-3 mx-3",onClick:s[28]||(s[28]=t=>d.openModal(1))},{default:l(()=>[u(" Tambah Data ")]),_:1}),e(T),e(w,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:a.searchValue,"onUpdate:modelValue":s[29]||(s[29]=t=>a.searchValue=t)},null,8,["modelValue"]),e(T),e(b,{color:a.isTable==!0?"secondary":"on-primary",onClick:s[30]||(s[30]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-table",color:"on-primary"}),u(" Table ")]),_:1},8,["color"]),e(b,{color:a.isTable==!1?"secondary":"on-primary",onClick:s[31]||(s[31]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-box",color:"on-primary"}),u(" Grid ")]),_:1},8,["color"])]),_:1}),a.isTable?(o(),m(B,{key:0,class:"mt-2","show-index":"",headers:a.headers,items:a.items,"search-value":a.searchValue},{"empty-message":l(()=>[Ce]),loading:l(()=>[we]),"item-status":l(t=>[e(D,{variant:"outlined",color:"primary",onClick:n=>d.changeDraftStatus(t.id,"approved")},{default:l(()=>[u(h(t.status),1)]),_:2},1032,["onClick"])]),"item-operation":l(t=>[c("div",Fe,[c("button",null,[e(v,{size:"20",icon:"bx-file-find",color:"blue",onClick:n=>d.toLink(t.id)},null,8,["onClick"])]),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",Te,[e(v,{size:"20",icon:"bx-edit",color:"blue",onClick:n=>d.openModal(2,t)},null,8,["onClick"])])):_("",!0),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",Ue,[e(v,{size:"20",icon:"bx-trash",color:"red",onClick:n=>d.deleteData(t)},null,8,["onClick"])])):_("",!0)])]),_:1},8,["headers","items","search-value"])):_("",!0),a.isTable==!1?(o(),m(R,{key:1},{default:l(()=>[e(p,{"no-gutters":""},{default:l(()=>[(o(!0),f(g,null,x(a.items,(t,n)=>(o(),m(i,{class:"ma-2",key:n,cols:"12",sm:"3"},{default:l(()=>[e(k,{class:"mx-auto","max-width":"344",height:"230px"},{default:l(()=>[e(J,null,{default:l(()=>[c("div",null,[c("div",Se,[t.status=="approved"?(o(),m(D,{key:0,color:"success",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="pending"?(o(),m(D,{key:1,color:"warning",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="rejected"?(o(),m(D,{key:2,color:"error",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0)]),c("div",Pe,h(t.title),1),c("div",ze,h(t.desc.substring(0,100)+"..."),1),c("div",je,h(d.formatDate(t.created_at)),1)])]),_:2},1024),e(L,null,{default:l(()=>[e(b,{size:"small",class:"mt-3",onClick:V=>d.toLink(t.id)},{default:l(()=>[e(v,{size:"20",icon:"mdi-open-in-new"})]),_:2},1032,["onClick"]),a.userData.uuid==t.user_uuid?(o(),m(b,{key:0,size:"small",class:"mt-3",onClick:V=>d.openModal(2,t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-pen"})]),_:2},1032,["onClick"])):_("",!0),a.userData.uuid==t.user_uuid?(o(),m(b,{key:1,size:"small",class:"mt-3",onClick:V=>d.deleteData(t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-trash"})]),_:2},1032,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):_("",!0),e(S,{modelValue:a.insert,"onUpdate:modelValue":s[35]||(s[35]=t=>a.insert=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Tambah Data ")]),text:l(()=>[e(P,{onSubmit:F(d.insertData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[32]||(s[32]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[33]||(s[33]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),m(i,{key:n,cols:"6"},{default:l(()=>[e(G,null,{default:l(()=>[e(N,{textContent:h(n+1+" - "+t.title)},null,8,["textContent"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Simpan")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[34]||(s[34]=t=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(S,{modelValue:a.edit,"onUpdate:modelValue":s[40]||(s[40]=t=>a.edit=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Update Data ")]),text:l(()=>[e(P,{onSubmit:F(d.updateData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[36]||(s[36]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[37]||(s[37]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(O,{label:"Status",items:[{value:"pending",title:"Pending"},{value:"approved",title:"Approved"},{value:"rejected",title:"Rejected"}],modelValue:a.dataForm.status,"onUpdate:modelValue":s[38]||(s[38]=t=>a.dataForm.status=t),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[Me,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.displaySelectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[Ae,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t.title),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Update")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[39]||(s[39]=t=>d.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(E,{value:"4"},{default:l(()=>[e(p,{class:"d-flex justify-end pa-3"},{default:l(()=>[e(b,{color:"primary",size:"small",class:"my-3 mx-3",onClick:s[41]||(s[41]=t=>d.openModal(1))},{default:l(()=>[u(" Tambah Data ")]),_:1}),e(T),e(w,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:a.searchValue,"onUpdate:modelValue":s[42]||(s[42]=t=>a.searchValue=t)},null,8,["modelValue"]),e(T),e(b,{color:a.isTable==!0?"secondary":"on-primary",onClick:s[43]||(s[43]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-table",color:"on-primary"}),u(" Table ")]),_:1},8,["color"]),e(b,{color:a.isTable==!1?"secondary":"on-primary",onClick:s[44]||(s[44]=t=>a.isTable=!a.isTable),size:"x-small",class:"mt-3"},{default:l(()=>[e(v,{size:"20",icon:"bx-box",color:"on-primary"}),u(" Grid ")]),_:1},8,["color"])]),_:1}),a.isTable?(o(),m(B,{key:0,class:"mt-2","show-index":"",headers:a.headers,items:a.items,"search-value":a.searchValue},{"empty-message":l(()=>[qe]),loading:l(()=>[Be]),"item-status":l(t=>[e(D,{variant:"outlined",color:"primary",onClick:n=>d.changeDraftStatus(t.id,"rejected")},{default:l(()=>[u(h(t.status),1)]),_:2},1032,["onClick"])]),"item-operation":l(t=>[c("div",Je,[c("button",null,[e(v,{size:"20",icon:"bx-file-find",color:"blue",onClick:n=>d.toLink(t.id)},null,8,["onClick"])]),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",Le,[e(v,{size:"20",icon:"bx-edit",color:"blue",onClick:n=>d.openModal(2,t)},null,8,["onClick"])])):_("",!0),u("   "),a.userData.uuid==t.user_uuid?(o(),f("button",Ie,[e(v,{size:"20",icon:"bx-trash",color:"red",onClick:n=>d.deleteData(t)},null,8,["onClick"])])):_("",!0)])]),_:1},8,["headers","items","search-value"])):_("",!0),a.isTable==!1?(o(),m(R,{key:1},{default:l(()=>[e(p,{"no-gutters":""},{default:l(()=>[(o(!0),f(g,null,x(a.items,(t,n)=>(o(),m(i,{class:"ma-2",key:n,cols:"12",sm:"3"},{default:l(()=>[e(k,{class:"mx-auto","max-width":"344",height:"230px"},{default:l(()=>[e(J,null,{default:l(()=>[c("div",null,[c("div",Ee,[t.status=="approved"?(o(),m(D,{key:0,color:"success",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="pending"?(o(),m(D,{key:1,color:"warning",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0),t.status=="rejected"?(o(),m(D,{key:2,color:"error",variant:"flat"},{default:l(()=>[u(h(t.status),1)]),_:2},1024)):_("",!0)]),c("div",Re,h(t.title),1),c("div",Ge,h(t.desc.substring(0,100)+"..."),1),c("div",Ne,h(d.formatDate(t.created_at)),1)])]),_:2},1024),e(L,null,{default:l(()=>[e(b,{size:"small",class:"mt-3",onClick:V=>d.toLink(t.id)},{default:l(()=>[e(v,{size:"20",icon:"mdi-open-in-new"})]),_:2},1032,["onClick"]),a.userData.uuid==t.user_uuid?(o(),m(b,{key:0,size:"small",class:"mt-3",onClick:V=>d.openModal(2,t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-pen"})]),_:2},1032,["onClick"])):_("",!0),a.userData.uuid==t.user_uuid?(o(),m(b,{key:1,size:"small",class:"mt-3",onClick:V=>d.deleteData(t)},{default:l(()=>[e(v,{size:"20",icon:"mdi-trash"})]),_:2},1032,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):_("",!0),e(S,{modelValue:a.insert,"onUpdate:modelValue":s[48]||(s[48]=t=>a.insert=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Tambah Data ")]),text:l(()=>[e(P,{onSubmit:F(d.insertData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[45]||(s[45]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[46]||(s[46]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),m(i,{key:n,cols:"6"},{default:l(()=>[e(G,null,{default:l(()=>[e(N,{textContent:h(n+1+" - "+t.title)},null,8,["textContent"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Simpan")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[47]||(s[47]=t=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(S,{modelValue:a.edit,"onUpdate:modelValue":s[53]||(s[53]=t=>a.edit=t),width:"auto"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Update Data ")]),text:l(()=>[e(P,{onSubmit:F(d.updateData,["prevent"])},{default:l(()=>[e(p,null,{default:l(()=>[e(i,{md:"12",cols:"12"},{default:l(()=>[e(w,{placeholder:"Draft xx",label:"Judul Draft",modelValue:a.dataForm.title,"onUpdate:modelValue":s[49]||(s[49]=t=>a.dataForm.title=t),autofocus:"",rules:[a.rules.required],"prepend-icon":"mdi-person"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(z,{counter:"",label:"Deskripsi",rules:a.rulesTextArea,modelValue:a.dataForm.desc,"onUpdate:modelValue":s[50]||(s[50]=t=>a.dataForm.desc=t),"prepend-icon":"mdi-comment"},null,8,["rules","modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(O,{label:"Status",items:[{value:"pending",title:"Pending"},{value:"approved",title:"Approved"},{value:"rejected",title:"Rejected"}],modelValue:a.dataForm.status,"onUpdate:modelValue":s[51]||(s[51]=t=>a.dataForm.status=t),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"12"},{default:l(()=>[e(j,{accept:"application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",placeholder:"Pick an file","prepend-icon":"mdi-file",rules:[a.rules.required],label:"File Draft",onChange:d.handleFileChange},null,8,["rules","onChange"])]),_:1}),e(M,{thickness:5}),e(p,null,{default:l(()=>[e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Pilih Jabatan : ")]),text:l(()=>[e(p,null,{default:l(()=>[(o(!0),f(g,null,x(a.positions,(t,n)=>(o(),m(i,{key:n,cols:"4"},{default:l(()=>[e(A,{modelValue:t.checked,"onUpdate:modelValue":V=>t.checked=V,label:t.title,value:t.value},null,8,["modelValue","onUpdate:modelValue","label","value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(i,{cols:"6"},{default:l(()=>[e(k,null,{title:l(()=>[u(" Urutan Persetujuan Draft : ")]),text:l(()=>[e(p,null,{default:l(()=>[Oe,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.displaySelectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[Ke,e(i,null,{default:l(()=>[e(U,{"selected-class":"text-primary",column:""},{default:l(()=>[(o(!0),f(g,null,x(a.selectedPositions,(t,n)=>(o(),f("div",{key:n},[e(D,{style:{color:"rgb(6, 84, 107)"}},{default:l(()=>[u(h(n+1+" - "+t.title),1)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(b,{type:"submit"},{default:l(()=>[u("Update")]),_:1}),c("button",{type:"button",class:"btn btn-blue",onClick:s[52]||(s[52]=t=>d.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}const vl=H(ee,[["render",We]]);export{vl as default};
